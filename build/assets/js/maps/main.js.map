{"version":3,"sources":["../../bower_components/coop-frontend-toolkit/scripts/coop-toolkit.js","parsley-init.js"],"names":["$","on","toggleClass","hasClass","text","e","preventDefault","this","addClass","parent","siblings","find","removeClass","attr","trigger","document","ready","parsley","navigateTo","index","$sections","eq","toggle","atTheEnd","length","curIndex","filter","click","validate","each","section"],"mappings":"AAIAA,EAAA,WAEAA,EAAA,uBAAAC,GAAA,QAAA,WACAD,EAAA,oCAAAE,YAAA,QACAF,EAAA,uBAAAG,SAAA,QACAH,EAAA,yCAAAI,KAAA,SAGAJ,EAAA,yCAAAI,KAAA,UAKAJ,EAAA,SAAAC,GAAA,QAAA,cAAA,SAAAI,GACAA,EAAAC,iBACAN,EAAAO,MAAAC,SAAA,UAAAC,OAAA,MAAAC,WAAAC,KAAA,KAAAC,YAAA,UACAZ,EAAAA,EAAAO,MAAAM,KAAA,SAAAL,SAAA,UAAAE,WAAAE,YAAA,YACAJ,SAAA,QAAAG,KAAA,wBAAAG,QAAA,SAGAd,EAAA,mBAAAC,GAAA,QAAA,SAAAI,GACAA,EAAAC,iBACAN,EAAAO,MAAAL,YAAA,QACAF,EAAAO,MAAAE,SAAAN,SAAA,cACAH,EAAAO,MAAAG,SAAA,mBAAAE,YAAA,UAEAJ,SAAA,UC9BAR,EAAAe,UAAAC,MAAA,WAGAhB,EAAA,eAAAiB,YAKAjB,EAAA,WAGA,QAAAkB,GAAAC,GAEAC,EACAR,YAAA,WACAS,GAAAF,GACAX,SAAA,WAEAR,EAAA,8BAAAsB,OAAAH,EAAA,EACA,IAAAI,GAAAJ,GAAAC,EAAAI,OAAA,CACAxB,GAAA,0BAAAsB,QAAAC,GACAvB,EAAA,kCAAAsB,OAAAC,GAGA,QAAAE,KAEA,MAAAL,GAAAD,MAAAC,EAAAM,OAAA,aAjBA,GAAAN,GAAApB,EAAA,gBAqBAA,GAAA,8BAAA2B,MAAA,WACAT,EAAAO,IAAA,KAIAzB,EAAA,0BAAA2B,MAAA,WACA3B,EAAA,sBAAAiB,UAAAW,SAAA,SAAAH,MACAP,EAAAO,IAAA,KAIAL,EAAAS,KAAA,SAAAV,EAAAW,GACA9B,EAAA8B,GAAAnB,KAAA,UAAAE,KAAA,qBAAA,SAAAM,KAEAD,EAAA","file":"main.js","sourcesContent":["/**\n * Co-op Front-end Toolkit Scripts\n */\n\n$(function() {\n  // Mobile menu\n  $('.mobile-menu-toggle').on('click', function() {\n    $('#navigation, .mobile-menu-toggle').toggleClass('open');\n    if ($('.mobile-menu-toggle').hasClass('open')) {\n      $('.mobile-menu-toggle .mobile-menu-text').text('Close');\n    }\n    else {\n      $('.mobile-menu-toggle .mobile-menu-text').text('Menu');\n    }\n  });\n\n  // Tabs\n  $('.tabs').on('click', '.tabs-nav a', function(e) {\n    e.preventDefault();\n    $(this).addClass('active').parent('li').siblings().find('a').removeClass('active');\n    $($(this).attr('href')).addClass('active').siblings().removeClass('active');\n  }).addClass('init').find('.tabs-nav li:first a').trigger('click');\n\n  // Toggles\n  $('.toggle-trigger').on('click', function(e) {\n    e.preventDefault();\n    $(this).toggleClass('open');\n    if ($(this).parent().hasClass('accordion')) {\n      $(this).siblings('.toggle-trigger').removeClass('open');\n    }\n  }).addClass('init');\n});\n","$(document).ready(function() {\n\n  // Initialise basic form validation\n  $('#login-form').parsley(); \n\n});\n\n// Initialise multistep validation\n$(function () {\n  var $sections = $('.form-section');\n\n  function navigateTo(index) {\n    // Mark the current section with the class 'current'\n    $sections\n      .removeClass('current')\n      .eq(index)\n        .addClass('current');\n    // Show only the navigation buttons that make sense for the current section:\n    $('.form-navigation .previous').toggle(index > 0);\n    var atTheEnd = index >= $sections.length - 1;\n    $('.form-navigation .next').toggle(!atTheEnd);\n    $('.form-navigation [type=submit]').toggle(atTheEnd);\n  }\n\n  function curIndex() {\n    // Return the current index by looking at which section has the class 'current'\n    return $sections.index($sections.filter('.current'));\n  }\n\n  // Previous button is easy, just go back\n  $('.form-navigation .previous').click(function() {\n    navigateTo(curIndex() - 1);\n  });\n\n  // Next button goes forward iff current block validates\n  $('.form-navigation .next').click(function() {\n    if ($('.registration-form').parsley().validate('block-' + curIndex()))\n      navigateTo(curIndex() + 1);\n  });\n\n  // Prepare sections by setting the `data-parsley-group` attribute to 'block-0', 'block-1', etc.\n  $sections.each(function(index, section) {\n    $(section).find(':input').attr('data-parsley-group', 'block-' + index);\n  });\n  navigateTo(0); // Start at the beginning\n});"],"sourceRoot":"/source/"}